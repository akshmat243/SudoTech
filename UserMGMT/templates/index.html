{% extends "wrapper.html" %}
{% load static %}
{% block dashboard %}

		<!--start page wrapper -->
		<div class="page-wrapper">
			<div class="page-content">

					<div class="card radius-10">
					<div class="row row-cols-1 row-cols-md-2 row-cols-xl-4 row-group g-0">
						<div class="col">
							<div class="card-body">
								<div class="d-flex align-items-center">
									<h5 class="mb-0">{{assigned_role_users_count}}</h5>
									<div class="ms-auto">
                                        <i class='bx bx-user-pin fs-3 text-white'></i>
									</div>
								</div>
								<div class="progress my-3" style="height:4px;">
									<div class="progress-bar" role="progressbar" style="width: {{ width_role_percent }}%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
								</div>
								<div class="d-flex align-items-center text-white">
									<p class="mb-0">Assigned Roles</p>
									<p class="mb-0 ms-auto"><span><i class='bx bx-up-arrow-alt'></i></span></p>
								</div>
							</div>
						</div>
						<div class="col">
							<div class="card-body">
								<div class="d-flex align-items-center">
									<h5 class="mb-0">{{not_verified_users_count}}</h5>
									<div class="ms-auto">
                                        <i class='bx bx-envelope fs-3 text-white'></i>
									</div>
								</div>
								<div class="progress my-3" style="height:4px;">
									<div class="progress-bar" role="progressbar" style="width: {{ width_email_percent }}%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
								</div>
								<div class="d-flex align-items-center text-white">
									<p class="mb-0">Unverified emails</p>
									<p class="mb-0 ms-auto"><span><i class='bx bx-up-arrow-alt'></i></span></p>
								</div>
							</div>
						</div>
						<div class="col">
							<div class="card-body">
								<div class="d-flex align-items-center">
									<h5 class="mb-0">{{ user_count }}</h5>
									<div class="ms-auto">
                                        <i class='bx bx-group fs-3 text-white'></i>
									</div>
								</div>
								<div class="progress my-3" style="height:4px;">
									<div class="progress-bar" role="progressbar" style="width: {{user_count}}%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
								</div>
								<div class="d-flex align-items-center text-white">
									<p class="mb-0">Total Users</p>
									<p class="mb-0 ms-auto"><span><i class='bx bx-up-arrow-alt'></i></span></p>
								</div>
							</div>
						</div>
						<div class="col">
							<div class="card-body">
								<div class="d-flex align-items-center">
									<h5 class="mb-0">{{new_users_count}}</h5>
									<div class="ms-auto">
                                        <i class='bx bx-user fs-3 text-white'></i>
									</div>
								</div>
								<div class="progress my-3" style="height:4px;">
									<div class="progress-bar" role="progressbar" style="width: {{ width_user_percent }}%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
								</div>
								<div class="d-flex align-items-center text-white">
									<p class="mb-0">New User</p>
									<p class="mb-0 ms-auto"><span><i class='bx bx-up-arrow-alt'></i></span></p>
								</div>
							</div>
						</div>
					</div><!--end row-->
				</div>
				
				



					<div class="row">
					  <div class="card radius-10">
						<div class="card-body">
							<div class="d-flex align-items-center">
								<div>
									<h5 class="mb-0">Users</h5>
								</div>
								<div class="dropdown options ms-auto">
									<div class="dropdown-toggle dropdown-toggle-nocaret" data-bs-toggle="dropdown">
									  <i class='bx bx-dots-horizontal-rounded'></i>
									</div>
									<ul class="dropdown-menu">
									  <li><a class="dropdown-item" href="javascript:;">Action</a></li>
									  <li><a class="dropdown-item" href="javascript:;">Another action</a></li>
									  <li><a class="dropdown-item" href="javascript:;">Something else here</a></li>
									</ul>
								  </div>
							</div>
							<hr>
							<div class="table-responsive">
								<table class="table align-middle mb-0">
									<thead class="table-light">
										<tr>
											<th>User id</th>
											<th>Profile</th>
											<th>Name</th>
											<th>Email</th>
											<th>Username</th>
											<th>Role</th>
											<th>Active</th>
											<th>Action</th>
										</tr>
									</thead>
									{% for entry in users %}
									<tbody>
										<tr>
											<td>{{entry.user.id}}</td>
											<td>
												<div class="d-flex align-items-center">
													<div class="recent-product-img" style="width: 45px; height: 45px; border-radius: 50%; overflow: hidden;">
														<img src="{% static 'default.jpg' %}" alt="" style="width: 110%; height: 110%; object-fit: cover; border-radius: 50%;">
													</div>
												</div>
											</td>
											<td>
												<div class="d-flex align-items-center">
													<div class="ms-2">
														<h6 class="mb-1 font-14">{{entry.user.name}}</h6>
													</div>
												</div>
											</td>
											<td>{{entry.user.email}} </td>
											<td>{{entry.user.username}} </td>
											<td>{{entry.roles.0|default:'N/A'}} </td>
											<td>
												<div class="badge rounded-pill bg-light text-white w-100">{{entry.is_active}}</div>
											</td>
											<td>
												<div class="d-flex order-actions">	
													<a href="javascript:;" class=""><i class="bx bx-cog"></i></a>
													<a href="javascript:;" class="ms-4"><i class="bx bx-trash"></i></a>
												</div>
											</td>
										</tr>
									</tbody>
									{% endfor %}
								</table>
							</div>
						</div>
					</div>
			</div>
		</div>
		<!--end page wrapper -->
		<!--start overlay-->
		<div class="overlay toggle-icon"></div>
		<!--end overlay-->
		<!--Start Back To Top Button--> <a href="javaScript:;" class="back-to-top"><i class='bx bxs-up-arrow-alt'></i></a>
		<!--End Back To Top Button-->
		<footer class="page-footer">
			<p class="mb-0">Copyright Â© 2023. All right reserved.</p>
		</footer>

	<!-- Bootstrap JS -->
	<script src="{% static 'assets/js/bootstrap.bundle.min.js' %}"></script>
	<!--plugins-->
	<script src="{% static 'assets/js/jquery.min.js' %}"></script>
	<script src="{% static 'assets/plugins/simplebar/js/simplebar.min.js' %}"></script>
	<script src="{% static 'assets/plugins/metismenu/js/metisMenu.min.js' %}"></script>
	<script src="{% static 'assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js' %}"></script>
	<script src="{% static 'assets/plugins/chartjs/chart.min.js' %}"></script>
	<script src="{% static 'assets/plugins/vectormap/jquery-jvectormap-2.0.2.min.js' %}"></script>
    <script src="{% static 'assets/plugins/vectormap/jquery-jvectormap-world-mill-en.js' %}"></script>
	<script src="{% static 'assets/plugins/jquery.easy-pie-chart/jquery.easypiechart.min.js' %}"></script>
	<script src="{% static 'assets/plugins/sparkline-charts/jquery.sparkline.min.js' %}"></script>
	<script src="{% static 'assets/plugins/jquery-knob/excanvas.js' %}"></script>
	<script src="{% static 'assets/plugins/jquery-knob/jquery.knob.js' %}"></script>
	  <script>
		  $(function() {
			  $(".knob").knob();
		  });
	  </script>
	  <script src="{% static 'assets/js/index.js' %}"></script>
	<!--app JS-->
	<script src="{% static 'assets/js/app.js' %}"></script>
{% endblock %}