{% extends "wrapper.html" %}
{% load static %}
{% block RoleList %}
<div class="page-wrapper">
	<div class="page-content">
        <a href="{% url 'create_role' %}">
        <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 row-cols-xl-5 g-3 justify-content-end">
            <div class="col d-flex justify-content-end">
                <div class="d-flex align-items-center theme-icons shadow-sm p-2 cursor-pointer rounded">
                    <div class="font-18 text-white">
                        <i class="lni lni-plus"></i>
                    </div>
                </div>
            </div>
        </div></a>
        <div class="d-flex flex-wrap gap-3 mt-3">
        {% for role in roles %}
        <div class="card" style="width:518px;">
            <div class="card-body">
                <div class="card-title">
                    <h4 class="mb-0">{{ role.name }}</h4>
                </div>
                <hr>
                <div class="scroll-permissions">
                    {% for perm in role.permission %}
                        <div class="chip mx-0 mt-0 mb-1 pl-1 pr-1">
                            <small>{{ perm.codename }}</small>
                        </div>
                    {% empty %}
                        <div class="chip">No permissions assigned.</div>
                    {% endfor %}
                </div>
            </div>
        </div>
        {% endfor %}
        </div>
    </div>
</div>

<script src="{% static 'assets/js/bootstrap.bundle.min.js' %}"></script>
	<!--plugins-->
	<script src="{% static 'assets/js/jquery.min.js' %}"></script>
	<script src="{% static 'assets/plugins/simplebar/js/simplebar.min.js' %}"></script>
	<script src="{% static 'assets/plugins/metismenu/js/metisMenu.min.js' %}"></script>
	<script src="{% static 'assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js' %}"></script>
	<!--app JS-->
	<script src="{% static 'assets/js/app.js' %}"></script>
<style>
.scroll-permissions {
    max-height: 8rem;
    overflow-y: auto;
    scrollbar-width: none; /* Firefox - hides scrollbar initially */
}

/* Chrome, Edge, Safari */
.scroll-permissions::-webkit-scrollbar {
    width: 6px;
    opacity: 0;
    transition: opacity 0.3s;
}

/* Hide the track and buttons (arrows) */
.scroll-permissions::-webkit-scrollbar-track,
.scroll-permissions::-webkit-scrollbar-button {
    background: transparent;
    height: 0;
    display: none;
}

/* Scrollbar thumb (handle) */
.scroll-permissions::-webkit-scrollbar-thumb {
    background-color: rgba(136, 136, 136, 0.0); /* hidden initially */
    border-radius: 10px;
    transition: background-color 0.3s;
}

/* On hover: show scrollbar thumb */
.scroll-permissions:hover::-webkit-scrollbar-thumb {
    background-color: rgba(136, 136, 136, 0.7);
}

.scroll-permissions:hover::-webkit-scrollbar {
    opacity: 1;
}

/* Firefox specific: show scrollbar on hover */
.scroll-permissions:hover {
    scrollbar-width: thin;
    scrollbar-color: rgba(136,136,136,0.7) transparent;
}
</style>

{% endblock %}